<div class="flex flex-col gap-2 p-5 h-screen">
  <h2 class="text-center font-semibold text-4xl p-4">Preview</h2>
  <%= render_form_for(@service, url: session[:action] == 'edit' ? service_path(@service) : services_path, method: session[:action] == 'edit' ? :patch : :post, data: { controller: 'auto-submit' }) do |f| %>
    <%= render_card do %>
      <div class="p-2">
        <div class="font-semibold text-4xl p-4">
          <%= @service.title&.capitalize %>
        </div>
        <div class="p-4">
          <%= @service.description %>
        </div>
        <div class="p-4">
          <%= number_to_currency(@service.price, precision: 2, unit: 'â‚±') %>
        </div>
        <p class="p-4">
          <span class="font-semibold">Categories:</span> 
          <div class="flex flex-col p-4 mr-4">
            <% @service.categories&.each do |category| %>
              <span><%= category.title %></span>
            <% end %>
          </div>
        </p>
      </div>

      <div class="fixed bottom-0 left-0 right-0 flex justify-between p-5 bg-background shadow-md border border-l-0">
        <div class="w-auto">
          <%= link_to previous_services_path, class: 'shadcn-button shadcn-button-ghost' do %>
            <div class="flex justify-center items-center gap-2 text-xl">
              <i class="fa-solid fa-circle-chevron-left"></i>
              <span class="ml-2">Previous</span>
            </div>
          <% end %>
        </div>
        
        <div class="w-auto">
          <%= button_tag type: 'button', data: { action: 'click->auto-submit#submit' } do %>
            <div class="flex justify-center items-center gap-2 text-xl">
              <span class="mr-2"><%= session[:action] == 'edit' ? "Update" : "Publish" %></span>
              <i class="fa-solid fa-circle-chevron-right"></i>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  <% end %>
</div>