<% options = [{label: 'Pending', value: 'pending'}, { label: 'Accept', value: 'accepted' }, { label: 'Reject', value: 'rejected' }] %>

<%= render_form_for(appointment, url: appointment_path(appointment), 
             method: :patch, 
             data: { controller: 'auto-submit' }, 
             class: 'w-28',
             html: { id: "status_form_#{appointment.id}" }) do |f| %>
             <%= f.select_field :status,
               selected: appointment.status,
               disabled: 'pending',
               id: "status_form_#{appointment.id}",
               class: 'w-full',
               data: { action: 'change->auto-submit#submit' } do |select| %>
    <% options.each do |option| %>
      <%= select.option label: option[:label], value: option[:value] %>
    <% end %>
  <% end %>
<% end %>
